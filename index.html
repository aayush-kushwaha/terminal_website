<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portfolio Terminal</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #0f172a;
      color: #00ffcc;
      font-family: 'Fira Code', monospace;
      height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      overflow: hidden;
    }
    
    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
    }
    .header {
      padding: 1rem 2rem 0 2rem;
      font-size: 2rem;
      font-weight: bold;
      color: #00ffcc;
      background-color: transparent;
      font-family: 'Fira Code', monospace;
      text-shadow: 0 0 12px #00ffe5, 0 0 24px #00ffe5;
      animation: flicker 2s infinite alternate;
    }
    .subheader {
      font-size: 1rem;
      padding-left: 2rem;
      color: #7fffd4;
      font-family: 'Fira Code', monospace;
      opacity: 0.8;
    }
    .hint {
      font-size: 0.875rem;
      color: #5eead4;
      padding: 0 2rem 0.5rem;
      font-family: 'Fira Code', monospace;
      opacity: 0.6;
    }
    .hint::after {
      content: "⚠️ Warning: Don't use sudo rm -rf / or sudo rm -rf /* ";
      display: block;
      margin-top: 0.5rem;
      color: #f87171;
      font-size: 0.95rem;
    }
    @keyframes flicker {
      0% { opacity: 1; }
      50% { opacity: 0.85; }
      100% { opacity: 1; }
    }
    .container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
      padding-bottom: 2rem;
    }
    #terminal {
      width: 700px;
      height: 400px;
      background-color: rgba(30, 30, 47, 0.95);
      border-radius: 10px;
      box-shadow: 0 0 25px #00ffcc, inset 0 0 15px rgba(0, 255, 204, 0.2);
      backdrop-filter: blur(5px);
      position: relative;
      z-index: 2;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    #terminal:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 35px #00ffcc, inset 0 0 15px rgba(0, 255, 204, 0.3);
    }
    .buttons {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-left: 1rem;
    }
    .btn {
      background-color: #00ffcc;
      color: #0f172a;
      border: none;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Fira Code', monospace;
      box-shadow: 0 0 10px rgba(0, 255, 204, 0.6);
      transition: all 0.2s ease;
    }
    .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(0, 255, 204, 0.9);
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
</head>
<body>
  <div id="particles-js"></div>
  <div class="header">Aayush Kushwaha</div>
  <div class="subheader">// Backend Developer | Python + FastAPI + Redis + RabbitMQ + Elasticsearch</div>
  <div class="hint">Try: whoami, skills, projects, neofetch, resume, linkedin, github, logo, sudo</div>
  <div class="container">
    <div id="terminal"></div>
    <div class="buttons">
      <button class="btn" onclick="simulateCommand('whoami')">whoami</button>
      <button class="btn" onclick="simulateCommand('skills')">skills</button>
      <button class="btn" onclick="simulateCommand('projects')">projects</button>
      <button class="btn" onclick="simulateCommand('others')">others</button>
      <button class="btn" onclick="simulateCommand('resume')">resume</button>
      <button class="btn" onclick="simulateCommand('linkedin')">linkedin</button>
      <button class="btn" onclick="simulateCommand('github')">github</button>
      <button class="btn" onclick="simulateCommand('logo')">logo</button>
      <button class="btn" onclick="simulateCommand('neofetch')">neofetch</button>
      <button class="btn" onclick="simulateCommand('pwd')">pwd</button>
      <button class="btn" onclick="simulateCommand('clear')">clear</button>
      <button class="btn" onclick="simulateCommand('help')">help</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.min.js"></script>
  <script>
    const loadingSpinner = ['⠋', '⠙', '⠹', '⠸', '⠼', '⠴', '⠦', '⠧', '⠇', '⠏'];
    let spinnerInterval;

    function startSpinner() {
      let i = 0;
      spinnerInterval = setInterval(() => {
        term.write('\b' + loadingSpinner[i]);
        i = (i + 1) % loadingSpinner.length;
      }, 80);
    }

    function stopSpinner() {
      clearInterval(spinnerInterval);
      term.write('\b ');
    }

    const welcomeBanner = `
     █████╗  █████╗ ██╗   ██╗██╗   ██╗███████╗██╗  ██╗
    ██╔══██╗██╔══██╗╚██╗ ██╔╝██║   ██║██╔════╝██║  ██║
    ███████║███████║ ╚████╔╝ ██║   ██║███████╗███████║
    ██╔══██║██╔══██║  ╚██╔╝  ██║   ██║╚════██║██╔══██║
    ██║  ██║██║  ██║   ██║   ╚██████╔╝███████║██║  ██║
    ╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝    ╚═════╝ ╚══════╝╚═╝  ╚═╝
    Welcome to my interactive terminal! Type 'help' for commands.
    `;

    const term = new Terminal({
      cursorBlink: true,
      fontFamily: 'Fira Code, monospace',
      fontSize: 14,
      theme: {
        background: '#1e1e2f',
        foreground: '#00ffcc'
      },
      convertEol: true,
      disableStdin: false,
      scrollOnUserInput: true,
      scrollOnOutput: true
    });
    term.open(document.getElementById('terminal'));

    function typeEffect(text, speed = 20) {
      let i = 0;
      function type() {
        if (i < text.length) {
          term.write(text[i++]);
          setTimeout(type, speed);
        } else {
          term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
        }
      }
      type();
    }

    typeEffect(welcomeBanner);

    let input = '';
    const history = [];
    let historyIndex = -1;
    let isRoot = false;
    let awaitingSudoPassword = false;

    const funnyRmRf = [
      "Initiating self-destruct...\nDeleting the fabric of reality...\n.\n..\n...System is now a potato.\n",
      "rm: Deleting your hopes, dreams, and `/system32`\nSkynet activated. Goodbye, human.\n",
      "Deleting /\nRemoving your dignity...\nErasing childhood memories...\n.\n..\nOops, did you mean `rm -rf /my_ex` instead?\n",
      "Sure! Let's delete everything. What could possibly go wrong? 😁\n",
      "sudo rm -rf /*\n> Congratulations!\n> You’ve unlocked: “How to brick a Linux system in 0.2s”\n",
      "[WARNING] Reality.exe not found.\nDeleting universe...\nGoodbye, Neo.\n",
      "Deleting your system in 3...\n2...\n1...\nJust kidding. But seriously, don’t ever do that.\n"
    ];

    const commands = {
        help: `\n\x1b[1;32mSystem Commands:\x1b[0m\n help - Show available commands\n clear - Clear the terminal\n ls - List directory contents\n cat - Read file contents\n neofetch - Display system info\n\n\x1b[1;32mPersonal Info:\x1b[0m\n whoami - Show my identity\n skills - List my skills\n projects - Show my projects\n others - Show my soft skills\n resume - Download my resume\n linkedin - Open my LinkedIn\n github - Open my GitHub\n logo - Show logo\n sudo - Enter sudo mode\n\n\x1b[1;32mFun Stuff:\x1b[0m\n git, git push\n sudo apt update, sudo apt upgrade\n npm install, sl, top, fortune\n\x1b[1;31mNote: Use with caution!\x1b[0m`,
        
        whoami: `\n\x1b[1;36mName:\x1b[0m Aayush Kushwaha\n\x1b[1;36mEmail:\x1b[0m aayush.kushwaha2608@gmail.com\n\x1b[1;36mWebsite:\x1b[0m aayushkushwaha.com.np`,

        skills: `\n\x1b[1;33mLanguages:\x1b[0m\n • Python\n\n\x1b[1;33mFrameworks:\x1b[0m\n • FastAPI\n • Flask\n\n\x1b[1;33mDatabases & Tools:\x1b[0m\n • Redis\n • RabbitMQ\n • MongoDB\n • Elasticsearch\n • Git\n • Docker`,

        projects: `\n\x1b[1;35m1. Taqneeq App Backend\x1b[0m\n   • Backend infrastructure for mobile app\n\n\x1b[1;35m2. ACM Certification Portal\x1b[0m\n   • Automated certification system\n\n\x1b[1;35m3. VoxBridge\x1b[0m\n   • Hindi Call Transcriber\n\n\x1b[1;35m4. CloudFrost\x1b[0m\n   • DNS management portal\n\n\x1b[1;35m5. Discord Bots\x1b[0m\n   • Custom automation bots`,

        others: `\n\x1b[1;34m• Fast learner\x1b[0m\n  Quick to adapt and master new technologies\n\n\x1b[1;34m• Team leader\x1b[0m\n  Experience in leading technical teams\n\n\x1b[1;34m• Problem-solver\x1b[0m\n  Strong analytical and debugging skills\n\n\x1b[1;34m• Effective communicator\x1b[0m\n  Clear and concise technical communication`,

        ls: `\n\x1b[1;34m📁 projects/\x1b[0m\n\x1b[1;34m📁 skills/\x1b[0m\n\x1b[1;32m📄 resume.pdf\x1b[0m\n\x1b[1;32m📄 about.txt\x1b[0m`,

        cat: `\n\x1b[1;33m=== About Me ===\x1b[0m\n\nPassionate backend developer with expertise in Python and modern web technologies. Love building scalable systems and solving complex problems.\n\nCurrently working on exciting projects in the realms of API development, system architecture, and cloud computing.\n\nAlways eager to learn and explore new technologies!`,

        resume: () => {
            window.open('https://aayushkushwaha.com.np/AayushKushwahaResume.pdf', '_blank');
            term.writeln('\nOpening resume...');
            term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
        },
        linkedin: () => {
            window.open('https://www.linkedin.com/in/aayushkushwaha/', '_blank');
            term.writeln('\nOpening LinkedIn...');
            term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
        },

        github: () => {
            window.open('https://www.github.com/aayush-kushwaha/', '_blank');
            term.writeln('\nOpening github...');
            term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
        },

        logo: `\n    _                           _     \n   / \\\   __ _ _   _ _   _ ___  | |__  \n  / _ \\\\ / _\` | | | | | | / __| | '_ \\\\ \n / ___ \\\\ (_| | |_| | |_| \\__ \\\\ | | | |\n/_/   \\\\_\\__,_|\\__, |\\__,_|___/ |_| |_|\n              |___/                   `,

        clear: () => {
            term.clear();
            term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
            term.scrollToBottom();
            term.focus();
        },

        neofetch: () => {
            term.writeln(`\n\n   /\\   User: aayushkushwaha\n  /  \\  OS: Arch Linux\n /_  _\\ Hostname: aayushkushwaha.com.np\n   ||    Time: ${new Date().toLocaleTimeString()}\n   ||    Email: aayush.kushwaha2608@gmail.com\n  /__\\   GitHub: github.com/aayush-kushwaha/\n /____\\  LinkedIn: linkedin.com/in/aayushkushwaha`);
            term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
            term.scrollToBottom();
            term.focus();
        },
        
        pwd: `\n/root/of/all/evil`,

        exit: () => {
            isRoot = false;
            term.write('\r\nλ ');
        },

        git: `\nGit: Because copying and pasting into a zip file isn't version control.`,

        "git push": `\nPushing your mistakes to production... Good luck, user.`,

        "sudo apt update": `\nUpdating package lists...\nFetching the latest bugs...`,

        "sudo apt upgrade": `\nUpgrading all packages...\nBreaking your custom setup...`,

        "npm install": `\nDownloading the entire internet...\nInstalled 3 million packages in node_modules.`,

        sl: `\nYou meant 'ls', but here's a train. 🚂💨 Choo choo!`,

        "sudo make me a sandwich": `\nOkay. You're root. Sandwich is on the way 🥪.`,

        top: `\nRealtime system monitor...\nWarning: 99.9% CPU used by 'regret'.`,

        fortune: `\n“Your code will work... right before the demo.”`
    };


    async function runCommand(cmd) {
      startSpinner();
      await new Promise(resolve => setTimeout(resolve, 500));  // Simulate command processing
      stopSpinner();

      if (cmd.trim() === '') return;
      history.push(cmd);
      historyIndex = history.length;
      const lowerCmd = cmd.toLowerCase();

      if (lowerCmd === 'sudo') {
        isRoot = true;
        term.write('\r\nRoot access granted.\r\n');
        term.write('λ (root) ');
        return;
      }

      if ((lowerCmd === 'sudo rm -rf /' || lowerCmd === 'sudo rm -rf /*')) {
        const response = funnyRmRf[Math.floor(Math.random() * funnyRmRf.length)];
        typeEffect(response);
        return;
      }

      if (typeof commands[cmd] === 'function') {
        commands[cmd]();
      } else if (commands[cmd]) {
        term.writeln(commands[cmd]);
        term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
        term.scrollToBottom();
        term.focus();
      } else {
        term.writeln(`\nCommand not found: ${cmd}`);
        term.write('\r\n' + (isRoot ? 'λ (root) ' : 'λ '));
        term.scrollToBottom();
        term.focus();
      }
    }

    function simulateCommand(cmd) {
      term.write(cmd + '\r\n');
      runCommand(cmd);
      input = '';
    }

    // Initialize particles.js
    particlesJS('particles-js', {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: '#00ffcc' },
        shape: { type: 'circle' },
        opacity: { value: 0.2, random: true },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: '#00ffcc',
          opacity: 0.2,
          width: 1
        },
        move: {
          enable: true,
          speed: 2,
          direction: 'none',
          random: true,
          straight: false,
          out_mode: 'out',
          bounce: false
        }
      },
      interactivity: {
        detect_on: 'canvas',
        events: {
          onhover: { enable: true, mode: 'grab' },
          resize: true
        },
        modes: {
          grab: { distance: 140, line_linked: { opacity: 0.5 } }
        }
      },
      retina_detect: true
    });

    // Load command history from localStorage
    const savedHistory = localStorage.getItem('commandHistory');
    if (savedHistory) {
      history.push(...JSON.parse(savedHistory));
      historyIndex = history.length;
    }

    term.focus();
    term.onKey(e => {
      const char = e.key;
      if (char === '\r') {
        if (input.trim() !== '') {
          term.write('\r\n');
          runCommand(input.trim());
          // Save command history to localStorage
          localStorage.setItem('commandHistory', JSON.stringify(history.slice(-50)));
          input = '';
        }
      } else if (char === '\u007F') {
        if (input.length > 0) {
          input = input.slice(0, -1);
          term.write('\b \b');
        }
      } else if (e.domEvent.key === 'ArrowUp') {
        if (history.length && historyIndex > 0) {
          historyIndex--;
          overwriteInput(history[historyIndex]);
        }
      } else if (e.domEvent.key === 'ArrowDown') {
        if (history.length && historyIndex < history.length - 1) {
          historyIndex++;
          overwriteInput(history[historyIndex]);
        } else if (historyIndex === history.length - 1) {
          historyIndex++;
          overwriteInput('');
        }
      } else {
        input += char;
        term.write(char);
      }
      term.scrollToBottom();
    });

    function overwriteInput(newInput) {
      while (input.length > 0) {
        term.write('\b \b');
        input = input.slice(0, -1);
      }
      input = newInput;
      term.write(input);
    }
  </script>
</body>
</html>